<div class="gfm"><div class="highlight highlight-text-html-handlebars"><pre><span class="pl-c1">{{</span><span class="pl-c1">#if</span> <span class="pl-v">id</span><span class="pl-c1">}}</span>
    <span class="pl-c1">{{</span> `<span class="pl-e"><span class="pl-v">select</span></span> <span class="pl-e"><span class="pl-v">o.Id</span></span>, 
            ${<span class="pl-e"><span class="pl-v">sqlConcat</span></span>([<span class="pl-s"><span class="pl-pds">"</span>e.FirstName<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>' '<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>e.LastName<span class="pl-pds">"</span></span>])} <span class="pl-e"><span class="pl-v">Employee</span></span>, 
            <span class="pl-e"><span class="pl-v">OrderDate</span></span>, <span class="pl-e"><span class="pl-v">ShipCountry</span></span>, <span class="pl-e"><span class="pl-v">ShippedDate</span></span>, 
            ${<span class="pl-e"><span class="pl-v">sqlCurrency</span></span>(<span class="pl-s"><span class="pl-pds">"</span>sum((d.Unitprice * d.Quantity) - d.discount)<span class="pl-pds">"</span></span>)} <span class="pl-e"><span class="pl-v">Total</span></span> 
        <span class="pl-e"><span class="pl-v">from</span></span> ${<span class="pl-e"><span class="pl-v">sqlQuote</span></span>(<span class="pl-s"><span class="pl-pds">"</span>Order<span class="pl-pds">"</span></span>)} <span class="pl-e"><span class="pl-v">o</span></span>
            <span class="pl-e"><span class="pl-v">inner</span></span> <span class="pl-e"><span class="pl-v">join</span></span>
            <span class="pl-e"><span class="pl-v">OrderDetail</span></span> <span class="pl-e"><span class="pl-v">d</span></span> <span class="pl-e"><span class="pl-v">on</span></span> <span class="pl-e"><span class="pl-v">o.Id</span></span> = <span class="pl-e"><span class="pl-v">d.OrderId</span></span>
            <span class="pl-e"><span class="pl-v">inner</span></span> <span class="pl-e"><span class="pl-v">join</span></span> 
            <span class="pl-e"><span class="pl-v">Employee</span></span> <span class="pl-e"><span class="pl-v">e</span></span> <span class="pl-e"><span class="pl-v">on</span></span> <span class="pl-e"><span class="pl-v">o.EmployeeId</span></span> = <span class="pl-e"><span class="pl-v">e.Id</span></span>
        <span class="pl-e"><span class="pl-v">where</span></span> <span class="pl-e"><span class="pl-v">CustomerId</span></span> = @<span class="pl-e"><span class="pl-v">id</span></span>
        <span class="pl-e"><span class="pl-v">group</span></span> <span class="pl-e"><span class="pl-v">by</span></span> <span class="pl-e"><span class="pl-v">o.Id</span></span>, <span class="pl-e"><span class="pl-v">EmployeeId</span></span>, <span class="pl-e"><span class="pl-v">FirstName</span></span>, <span class="pl-e"><span class="pl-v">LastName</span></span>, <span class="pl-e"><span class="pl-v">OrderDate</span></span>, <span class="pl-e"><span class="pl-v">ShipCountry</span></span>, <span class="pl-e"><span class="pl-v">ShippedDate</span></span>`
        |&gt; <span class="pl-e"><span class="pl-v">dbSelect</span></span>({ <span class="pl-e"><span class="pl-v">id</span></span> }) 
        |&gt; <span class="pl-e"><span class="pl-v">to</span></span> =&gt; <span class="pl-e"><span class="pl-v">orders</span></span> <span class="pl-c1">}}</span>
<span class="pl-c1">{{</span><span class="pl-c1">/if</span><span class="pl-c1">}}</span></pre></div>
</div>
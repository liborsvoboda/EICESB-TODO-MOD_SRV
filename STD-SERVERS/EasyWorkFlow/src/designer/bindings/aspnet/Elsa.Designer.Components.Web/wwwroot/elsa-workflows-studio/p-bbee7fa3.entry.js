import{r as e,h as s}from"./p-ee0b9025.js";import"./p-f3f2f442.js";import{a}from"./p-134edcbd.js";import"./p-6f3ac5fa.js";import"./p-82db2ff5.js";import"./p-949334ec.js";import"./p-fe704386.js";import{G as l}from"./p-b0baef6b.js";import{l as t}from"./p-62312a9a.js";import{T as o}from"./p-96c5f56a.js";import{t as i}from"./p-fd4270fe.js";import"./p-4745c03b.js";import"./p-a3b5bd35.js";import"./p-80de33dc.js";import"./p-93cac3a6.js";import"./p-9f020d74.js";import"./p-83f217d4.js";const r={en:{default:{Title:"Workflow Definitions",CreateButton:"Create Workflow",BackupButton:"Backup Workflows",RestoreButton:"Restore Workflows"}},"es-ES":{default:{Title:"Definiciones de flujo",CreateButton:"Crear un nuevo flujo",BackupButton:"Generar copia de seguridad",RestoreButton:"Restaurar flujos"}},"pt-PT":{default:{Title:"Definições de Fluxos",CreateButton:"Criar Fluxo",BackupButton:"Gerar backup",RestoreButton:"Restaurar fluxos"}},"zh-CN":{default:{Title:"工作流程定义",CreateButton:"创建工作流程"}},"nl-NL":{default:{Title:"Workflow Definities",CreateButton:"Nieuwe Workflow"}},"fa-IR":{default:{Title:"مشخصات فرآیندها",CreateButton:"ایجاد فرآیند"}},"de-DE":{default:{Title:"Ablaufdefinitionen",CreateButton:"Ablauf erstellen"}}};let n=class{constructor(s){e(this,s),this.restoreWorkflows=async e=>{e.preventDefault(),this.fileInput.value=null,this.fileInput.click(),i(this.menu)}}async componentWillLoad(){this.i18next=await t(this.culture,r)}async onFileInputChange(e){const s=this.fileInput.files;if(0==s.length)return;const l=s[0],t=await a(this.serverUrl);try{await t.workflowDefinitionsApi.restore(l)}catch(e){console.error(e)}await this.workflowDefinitionsListScreen.loadWorkflowDefinitions()}toggleMenu(e){i(this.menu)}render(){const e=this.basePath,a=l(this.i18next);return s("div",null,s("div",{class:"elsa-border-b elsa-border-gray-200 elsa-px-4 elsa-py-4 sm:elsa-flex sm:elsa-items-center sm:elsa-justify-between sm:elsa-px-6 lg:elsa-px-8 elsa-bg-white"},s("div",{class:"elsa-flex-1 elsa-min-w-0"},s("h1",{class:"elsa-text-lg elsa-font-medium elsa-leading-6 elsa-text-gray-900 sm:elsa-truncate"},s(a,{label:"Title"}))),s("div",{class:"elsa-mt-4 elsa-flex sm:elsa-mt-0 sm:elsa-ml-4"},s("span",{class:"elsa-relative elsa-z-20 elsa-inline-flex elsa-shadow-sm elsa-rounded-md"},s("stencil-route-link",{url:`${e}/workflow-definitions/new`,class:"elsa-relative elsa-inline-flex elsa-items-center elsa-px-4 elsa-py-2 elsa-border elsa-border-transparent elsa-shadow-sm elsa-text-sm elsa-font-medium elsa-rounded-l-md elsa-text-white elsa-bg-blue-600 hover:elsa-bg-blue-700 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-offset-2 focus:elsa-ring-blue-500 focus:elsa-z-10"},s(a,{label:"CreateButton"})),s("span",{class:"-elsa-ml-px elsa-relative elsa-block"},s("button",{onClick:()=>this.toggleMenu(),id:"option-menu",type:"button",class:"elsa-relative elsa-inline-flex elsa-items-center elsa-px-2 elsa-py-2 elsa-rounded-r-md elsa-border elsa-border-transparent elsa-bg-blue-600 elsa-text-sm elsa-font-medium elsa-text-white hover:elsa-bg-blue-700 focus:elsa-z-10 focus:elsa-outline-none focus:elsa-ring-2 focus:elsa-ring-blue-500 focus:elsa-border-blue-500"},s("span",{class:"elsa-sr-only"},"Open options"),s("svg",{class:"elsa-h-5 elsa-w-5","x-description":"Heroicon name: solid/chevron-down",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},s("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"}))),s("div",{ref:e=>this.menu=e,"data-transition-enter":"elsa-transition elsa-ease-out elsa-duration-100","data-transition-enter-start":"elsa-transform elsa-opacity-0 elsa-scale-95","data-transition-enter-end":"elsa-transform elsa-opacity-100 elsa-scale-100","data-transition-leave":"elsa-transition elsa-ease-in elsa-duration-75","data-transition-leave-start":"elsa-transform elsa-opacity-100 elsa-scale-100","data-transition-leave-end":"elsa-transform elsa-opacity-0 elsa-scale-95",class:"hidden origin-top-left elsa-absolute elsa-right-0 elsa-top-10 elsa-mb-2 -elsa-mr-1 elsa-w-56 elsa-rounded-md elsa-shadow-lg elsa-bg-white elsa-ring-1 elsa-ring-black elsa-ring-opacity-5"},s("div",{class:"elsa-divide-y elsa-divide-gray-100 focus:elsa-outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"option-menu"},s("div",{class:"elsa-py-1",role:"none"},s("a",{href:"#",onClick:e=>this.restoreWorkflows(e),class:"elsa-block elsa-px-4 elsa-py-2 elsa-text-sm elsa-text-gray-700 hover:elsa-bg-gray-100 hover:elsa-text-gray-900",role:"menuitem"},s(a,{label:"RestoreButton"})),s("a",{href:`${e}/v1/workflow-definitions/backup`,onClick:e=>this.toggleMenu(e),class:"elsa-block elsa-px-4 elsa-py-2 elsa-text-sm elsa-text-gray-700 hover:elsa-bg-gray-100 hover:elsa-text-gray-900",role:"menuitem"},s(a,{label:"BackupButton"}))))))))),s("elsa-workflow-definitions-list-screen",{ref:e=>this.workflowDefinitionsListScreen=e}),s("input",{type:"file",class:"hidden",onChange:e=>this.onFileInputChange(e),ref:e=>this.fileInput=e,accept:".zip"}))}};o.injectProps(n,["serverUrl","culture","basePath"]);export{n as elsa_studio_workflow_definitions_list};
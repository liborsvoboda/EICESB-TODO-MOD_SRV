<div class="gfm"><div class="highlight highlight-source-cs"><pre><span class="pl-k">var</span> <span class="pl-smi">context</span> <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">ScriptContext</span>
{
    <span class="pl-smi">ScriptMethods</span> <span class="pl-k">=</span> { <span class="pl-k">new</span> <span class="pl-en">ProtectedScripts</span>() },
    <span class="pl-smi">FilterTransformers</span> <span class="pl-k">=</span>
    {
        [<span class="pl-s"><span class="pl-pds">"</span>markdown<span class="pl-pds">"</span></span>] <span class="pl-k">=</span> <span class="pl-smi">MarkdownPageFormat</span>.<span class="pl-smi">TransformToHtml</span>
    }
}.<span class="pl-en">Init</span>();

<span class="pl-smi">context</span>.<span class="pl-smi">VirtualFiles</span>.<span class="pl-en">WriteFile</span>(<span class="pl-s"><span class="pl-pds">"</span>doc.md<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>## The Heading<span class="pl-cce">\n</span>The Content<span class="pl-pds">"</span></span>);

<span class="pl-smi">context</span>.<span class="pl-smi">VirtualFiles</span>.<span class="pl-en">WriteFile</span>(<span class="pl-s"><span class="pl-pds">"</span>page.html<span class="pl-pds">"</span></span>, 
    <span class="pl-s"><span class="pl-pds">"</span>&lt;div id=<span class="pl-pds">"</span></span><span class="pl-smi">content</span><span class="pl-s"><span class="pl-pds">"</span>&gt;{{ 'doc.md' |> includeFile |> markdown }}&lt;/div&gt;<span class="pl-pds">"</span></span>);</pre></div>
</div>
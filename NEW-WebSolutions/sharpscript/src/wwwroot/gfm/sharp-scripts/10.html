<div class="gfm"><div class="highlight highlight-text-html-basic"><pre>&lt;<span class="pl-ent">script</span>&gt;<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">*</span> run <span class="pl-k">in</span> host project directory <span class="pl-k">with</span> <span class="pl-s"><span class="pl-pds">`</span>x run wwwroot/_bundle.ss<span class="pl-pds">`</span></span> <span class="pl-k">*</span></span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-c1">false</span> <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-smi">to</span> <span class="pl-k">=&gt;</span> debug</span>
<span class="pl-s1">(debug <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>.min<span class="pl-pds">'</span></span>)       <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-smi">to</span> <span class="pl-k">=&gt;</span> min</span>
<span class="pl-s1">(debug <span class="pl-k">?</span> <span class="pl-s"><span class="pl-pds">'</span><span class="pl-pds">'</span></span> <span class="pl-k">:</span> <span class="pl-s"><span class="pl-pds">'</span>[hash].min<span class="pl-pds">'</span></span>) <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-smi">to</span> <span class="pl-k">=&gt;</span> dist</span>
<span class="pl-s1"></span>
<span class="pl-s1">{{ [<span class="pl-s"><span class="pl-pds">`</span>/css/lib.bundle<span class="pl-s1"><span class="pl-pse">${</span>dist<span class="pl-pse">}</span></span>.css<span class="pl-pds">`</span></span>,<span class="pl-s"><span class="pl-pds">`</span>/js/lib.bundle<span class="pl-s1"><span class="pl-pse">${</span>dist<span class="pl-pse">}</span></span>.js<span class="pl-pds">`</span></span>,<span class="pl-s"><span class="pl-pds">`</span>/js/bundle<span class="pl-s1"><span class="pl-pse">${</span>dist<span class="pl-pse">}</span></span>.js<span class="pl-pds">`</span></span>] </span>
<span class="pl-s1">   <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-smi">map</span> <span class="pl-k">=&gt;</span> <span class="pl-smi">it</span>.<span class="pl-c1">replace</span>(<span class="pl-s"><span class="pl-pds">'</span>[hash]<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>.*<span class="pl-pds">'</span></span>).<span class="pl-en">findFiles</span>()</span>
<span class="pl-s1">   <span class="pl-k">|</span><span class="pl-k">&gt;</span> flat</span>
<span class="pl-s1">   <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-smi">do</span> <span class="pl-k">=&gt;</span> <span class="pl-smi">it</span>.<span class="pl-smi">VirtualPath</span>.<span class="pl-en">deleteFile</span>() }}</span>
<span class="pl-s1"></span>
<span class="pl-s1"><span class="pl-k">*</span> Copy same bundle definitions from <span class="pl-smi">_layout</span>.<span class="pl-smi">html</span> as<span class="pl-k">-</span>is <span class="pl-k">*</span></span>
<span class="pl-s1"></span>
<span class="pl-s1">[<span class="pl-s"><span class="pl-pds">'</span>!/assets/css/default.css<span class="pl-pds">'</span></span>,<span class="pl-s"><span class="pl-pds">'</span>/assets/css/<span class="pl-pds">'</span></span>] <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-en">bundleCss</span>({ disk<span class="pl-k">:</span><span class="pl-k">!</span>debug, out<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">`</span>/css/lib.bundle<span class="pl-s1"><span class="pl-pse">${</span>dist<span class="pl-pse">}</span></span>.css<span class="pl-pds">`</span></span> })</span>
<span class="pl-s1"></span>
<span class="pl-s1">{{ [</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">`</span>/lib/vue/dist/vue<span class="pl-s1"><span class="pl-pse">${</span>min<span class="pl-pse">}</span></span>.js<span class="pl-pds">`</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">`</span>/lib/vue-router/dist/vue-router<span class="pl-s1"><span class="pl-pse">${</span>min<span class="pl-pse">}</span></span>.js<span class="pl-pds">`</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>/lib/vue-class-component/vue-class-component.js<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>/lib/vue-property-decorator/vue-property-decorator.umd.js<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>/lib/@servicestack/client/servicestack-client.umd.js<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>/lib/@servicestack/vue/servicestack-vue.umd.js<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">] <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-en">bundleJs</span>({ disk<span class="pl-k">:</span><span class="pl-k">!</span>debug, out<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">`</span>/js/lib.bundle<span class="pl-s1"><span class="pl-pse">${</span>dist<span class="pl-pse">}</span></span>.js<span class="pl-pds">`</span></span> }) }}</span>
<span class="pl-s1"></span>
<span class="pl-s1">{{ [</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>content:/src/components/<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>content:/src/shared/<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">    <span class="pl-s"><span class="pl-pds">'</span>content:/src/<span class="pl-pds">'</span></span>,</span>
<span class="pl-s1">] <span class="pl-k">|</span><span class="pl-k">&gt;</span> <span class="pl-en">bundleJs</span>({ minify<span class="pl-k">:</span><span class="pl-k">!</span>debug, cache<span class="pl-k">:</span><span class="pl-k">!</span>debug, disk<span class="pl-k">:</span><span class="pl-k">!</span>debug, out<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">`</span>/js/bundle<span class="pl-s1"><span class="pl-pse">${</span>dist<span class="pl-pse">}</span></span>.js<span class="pl-pds">`</span></span>, iife<span class="pl-k">:</span><span class="pl-c1">true</span> }) }}</span>
<span class="pl-s1"></span>&lt;/<span class="pl-ent">script</span>&gt;</pre></div>
</div>